

/* 1) Base */
* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body { margin: 0; font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; color: var(--color-text); background: var(--color-bg); }
img { display: block; max-width: 100%; height: auto; }
a { color: inherit; text-decoration: none; }

/* 2) Layout */
.container { width: min(100% - 2rem, var(--container)); margin-inline: auto; }
.site-header { position: sticky; top: 0; background: var(--color-surface); border-bottom: 1px solid rgba(255,255,255,.1); }
.site-header .bar { display: flex; align-items: center; justify-content: space-between; gap: 1rem; padding: .75rem 0; }
.nav { display: flex; gap: .5rem; }
.nav a { padding: .5rem .8rem; border-radius: 8px; }
.nav a:hover { background: rgba(255,255,255,.06); }

/* 3) Contenido */
.section { margin: 2rem 0; }
.section h1, .section h2 { margin: 0 0 1rem; }
.grid { display: grid; gap: 1rem; }
.cards-4 { grid-template-columns: repeat(4, 1fr); }

/* 4) Tarjetas */
.card { background: var(--color-card); border: 1px solid rgba(255,255,255,.1); border-radius: var(--radius); overflow: hidden; }
.card-media { aspect-ratio: 1 / 1; background: #0b1020; object-fit: cover; width: 100%; height: auto; display: block; }
.card-body { padding: 1rem; }
.card-title { font-weight: 700; }
.card-meta { color: var(--color-muted); font-size: .95rem; }
.price { color: var(--color-secondary); font-weight: 800; }

/* 4.1) Controles de filtros (solo en Propiedades) */
.card[aria-label="Filtros de búsqueda"] input[type="search"],
.card[aria-label="Filtros de búsqueda"] input[type="number"],
.card[aria-label="Filtros de búsqueda"] select {
  width: 100%;
  padding: .65rem .75rem;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 10px;
  color: var(--color-text);
}

.card[aria-label="Filtros de búsqueda"] input::placeholder {
  color: var(--color-muted);
}

.card[aria-label="Filtros de búsqueda"] input:focus,
.card[aria-label="Filtros de búsqueda"] select:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 1px;
  border-color: var(--color-primary);
}

/* Botón CTA local (consistencia con el resto del sitio) */
.cta {
  display: inline-block;
  background: var(--color-primary);
  color: #0b1020;
  font-weight: 700;
  padding: .7rem 1rem;
  border-radius: 10px;
}
.cta:hover { filter: brightness(1.05); }

/* 5) Footer */
.site-footer { margin-top: 3rem; padding: 1.5rem 0; border-top: 1px solid rgba(255,255,255,.1); color: var(--color-muted); }
.footer-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 1rem; }
.footer-social { display: flex; gap: .5rem; flex-wrap: wrap; }
.badge { padding: .3rem .6rem; border-radius: 999px; background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.1); }

/* 6) Responsive */
@media (max-width: 767px) {
  .nav { flex-direction: column; align-items: stretch; }
  .nav a { text-align: center; }
  .cards-4 { grid-template-columns: 1fr; }
  .footer-grid { grid-template-columns: 1fr; }
}

@media (min-width: 768px) and (max-width: 1199px) {
  .cards-4 { grid-template-columns: repeat(2, 1fr); }
}

@media (min-width: 1200px) {
  .cards-4 { grid-template-columns: repeat(4, 1fr); }
}
/* Cards clickeables */
.card.clickable { cursor: pointer; transition: transform .12s ease, box-shadow .2s ease; }
.card.clickable:hover { transform: translateY(-2px); box-shadow: var(--shadow-sm); }
.card.clickable:active { transform: translateY(0); }

/* Modal */
.modal[hidden] { display: none; }
.modal { position: fixed; inset: 0; z-index: 1000; display: grid; place-items: center; }
.modal-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,.6); backdrop-filter: blur(2px); }
.modal-content {
  position: relative;
  width: min(100% - 2rem, 980px);
  background: var(--color-card);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  padding: 1rem 1rem 1rem 1rem;
  /* espacio superior extra para que la X nunca se superponga con la imagen */
  padding-top: 2.5rem;
  max-height: 90vh;
  overflow: auto;
}
.modal-close {
  position: absolute; top: .5rem; right: .75rem;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  color: var(--color-text);
  border-radius: 8px;
  font-size: 1.25rem;
  line-height: 1;
  width: 36px; height: 36px;
  cursor: pointer;
  z-index: 11; /* por encima de imágenes, flechas y dots */
  pointer-events: auto;
}
.carousel { position: relative; z-index: 1; }
.carousel-viewport { 
  position: relative; overflow: hidden; border-radius: 10px;
  max-height: 70vh;
  z-index: 2;
}
.carousel-viewport .detail-media {
  width: 100%; height: 100%; display: none; object-fit: cover;
}
.carousel-arrow {
  position: absolute; top: 50%; transform: translateY(-50%);
  background: rgba(0,0,0,.4);
  border: 1px solid rgba(255,255,255,.2);
  color: #fff;
  width: 40px; height: 40px; border-radius: 50%; cursor: pointer;
  z-index: 4;
}
.carousel-arrow.left { left: .5rem; }
.carousel-arrow.right { right: .5rem; }
.carousel-dots { display: flex; gap: .4rem; justify-content: center; margin-top: .5rem; }
.carousel-dots .dot {
  width: 10px; height: 10px; border-radius: 50%; border: 1px solid rgba(255,255,255,.5);
  background: transparent; cursor: pointer;
}
.carousel-dots .dot.active { background: #fff; }
.prop-detail { display: grid; gap: 1rem; grid-template-columns: 1fr; }
.detail-media { width: 100%; border-radius: 10px; }
.detail-body { display: grid; gap: .5rem; }
.detail-meta { color: var(--color-muted); }
.detail-price { color: var(--color-secondary); font-weight: 800; font-size: 1.2rem; }
.detail-specs { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: .5rem 1rem; padding: 0; margin: .5rem 0 0; list-style: none; }
.detail-desc { margin-top: .5rem; color: var(--color-text); }

@media (min-width: 900px) {
  .prop-detail { grid-template-columns: 1.2fr 1fr; align-items: start; }
}

/* Altas pantallas verticales o móviles pequeños */
@media (max-width: 480px), (max-height: 700px) {
  .modal-content { padding: .75rem; max-height: 92vh; }
  .carousel-arrow { width: 34px; height: 34px; }
  .carousel-dots { gap: .3rem; }
  .detail-price { font-size: 1.05rem; }
}

/* Evitar que el contenido animado supere al header */
.card, .modal { z-index: 0; }